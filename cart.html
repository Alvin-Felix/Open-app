<!DOCTYPE html>
<html>
<head>
  <title>Cart</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
  <h2>Your Cart</h2>
  <div id="cartItems"></div>
  <div class="total" id="total"></div>

  <button class="primary-btn" onclick="checkout()">Proceed to Pay</button>
  <a class="link" href="index.html">Back to Shop</a>
</div>

<script>
const products = {
  1: { name: "Idli", price: 10 },
  2: { name: "Dosa", price: 40 }
};

const cart = JSON.parse(localStorage.getItem("cart")) || {};
let total = 0;
const cartDiv = document.getElementById("cartItems");

for (let id in cart) {
  const item = products[id];
  const qty = cart[id];
  const cost = item.price * qty;
  total += cost;

  const div = document.createElement("div");
  div.className = "cart-item";
  div.innerText = `${item.name} x ${qty} = â‚¹${cost}`;
  cartDiv.appendChild(div);
}

document.getElementById("total").innerText = `Total: â‚¹${total}`;

function checkout() {
  if (total === 0) {
    alert("Cart is empty");
    return;
  }

  let message = "ðŸ›’ *New Order*%0A%0A";

  for (let id in cart) {
    const item = products[id];
    const qty = cart[id];
    message += `${item.name} x ${qty} = â‚¹${item.price * qty}%0A`;
  }

  message += `%0A*Total:* â‚¹${total}`;

  const phoneNumber = "918754833972"; // WhatsApp Business number
  const url = `https://wa.me/${phoneNumber}?text=${message}`;

  // Open WhatsApp
  window.location.href = url;

  // Clear cart after sending
  localStorage.removeItem("cart");
}

</script>

</body>
</html>


